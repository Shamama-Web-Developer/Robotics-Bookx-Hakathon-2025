# Implementation Plan: Docusaurus UI Enhancement

**Branch**: `005-docusaurus-ui-enhancement` | **Date**: 2025-12-23 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `/specs/005-docusaurus-ui-enhancement/spec.md`

## Summary

Enhance the Physical AI & Humanoid Robotics Docusaurus site with a modern UI featuring a tech blue color palette, improved typography, responsive layouts, and WCAG 2.1 AA accessibility compliance. Implementation uses CSS variable overrides with minimal component swizzling to maintain upgrade compatibility.

## Technical Context

**Language/Version**: TypeScript 5.x, CSS3
**Primary Dependencies**: Docusaurus 3.x, React 18.x, Infima CSS Framework
**Storage**: N/A (static site, localStorage for theme preference)
**Testing**: Manual testing, Lighthouse audits, browser DevTools
**Target Platform**: Modern browsers (Chrome, Firefox, Safari, Edge - last 2 versions)
**Project Type**: Web (static documentation site)
**Performance Goals**: Lighthouse performance 80+, accessibility 90+, <3s page load
**Constraints**: No component ejection, GitHub Pages compatible, CSS-first approach
**Scale/Scope**: 4 modules, ~40 documentation pages, thousands of potential visitors

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

| Principle | Status | Notes |
|-----------|--------|-------|
| No breaking changes | PASS | CSS overrides only, no core modifications |
| Maintainability | PASS | Centralized variables, documented patterns |
| Accessibility | PASS | WCAG 2.1 AA compliance required |
| Performance | PASS | System fonts, optimized assets |
| Simplicity | PASS | CSS-first, minimal JS changes |

## Project Structure

### Documentation (this feature)

```text
specs/005-docusaurus-ui-enhancement/
├── plan.md              # This file
├── spec.md              # Feature specification
├── research.md          # Design decisions and rationale
├── data-model.md        # Theme configuration entities
├── quickstart.md        # Implementation guide
├── contracts/
│   ├── theme-variables.yaml    # CSS variable contract
│   └── component-structure.yaml # Component props contract
└── tasks.md             # Implementation tasks (generated by /sp.tasks)
```

### Source Code (repository root)

```text
website/src/
├── css/
│   ├── custom.css                 # Main theme variables (MODIFY)
│   └── components/                # NEW DIRECTORY
│       ├── navbar.css             # Navbar overrides
│       ├── sidebar.css            # Sidebar overrides
│       ├── footer.css             # Footer overrides
│       ├── hero.css               # Homepage hero styling
│       ├── code-block.css         # Code block styling
│       └── admonitions.css        # Callout box styling
├── components/
│   └── HomepageFeatures/
│       ├── index.tsx              # MODIFY - new feature content
│       └── styles.module.css      # MODIFY - updated styling
└── pages/
    ├── index.tsx                  # MODIFY - hero content update
    └── index.module.css           # MODIFY - hero styling

website/static/img/
├── icons/                         # NEW DIRECTORY
│   ├── network-nodes.svg          # ROS 2 icon
│   ├── simulation-3d.svg          # Digital twin icon
│   ├── neural-brain.svg           # Isaac brain icon
│   └── voice-action.svg           # VLA icon
└── logo.svg                       # MODIFY if needed
```

**Structure Decision**: CSS override approach with modular component files. This preserves Docusaurus upgrade path while allowing comprehensive customization.

---

## Implementation Phases

### Phase 1: Theme Foundation (Priority: P1)

Update the core CSS variables to establish the new color palette and typography.

**Files to modify**:
- `website/src/css/custom.css`

**Tasks**:
1. Replace existing color palette with tech blue theme
2. Add dark mode color variables
3. Define typography variables (font families, sizes, weights)
4. Define spacing and layout variables
5. Test theme toggle functionality

**Acceptance Criteria**:
- Light and dark modes display correct colors
- Typography is consistent across all pages
- No visual regressions from default styling

---

### Phase 2: Homepage Redesign (Priority: P1)

Update the homepage hero and feature cards to reflect robotics content.

**Files to modify**:
- `website/src/pages/index.tsx`
- `website/src/pages/index.module.css`
- `website/src/components/HomepageFeatures/index.tsx`
- `website/src/components/HomepageFeatures/styles.module.css`

**Files to create**:
- `website/src/css/components/hero.css`
- `website/static/img/icons/network-nodes.svg`
- `website/static/img/icons/simulation-3d.svg`
- `website/static/img/icons/neural-brain.svg`
- `website/static/img/icons/voice-action.svg`

**Tasks**:
1. Update hero text and CTA buttons
2. Create custom SVG icons for feature cards
3. Replace default feature content with robotics modules
4. Style feature cards with hover effects
5. Add responsive behavior for mobile

**Acceptance Criteria**:
- Hero displays "Physical AI & Humanoid Robotics" branding
- Four feature cards link to correct module introductions
- Feature cards have smooth hover animations
- Layout is responsive on all breakpoints

---

### Phase 3: Navigation Enhancement (Priority: P2)

Improve navbar and sidebar styling for better navigation experience.

**Files to create**:
- `website/src/css/components/navbar.css`
- `website/src/css/components/sidebar.css`

**Tasks**:
1. Style navbar with brand colors and hover effects
2. Add active state styling to sidebar
3. Implement visible focus indicators
4. Style mobile navigation menu
5. Add smooth transitions

**Acceptance Criteria**:
- Navbar uses brand colors
- Sidebar clearly indicates current page
- All navigation elements are keyboard accessible
- Mobile menu works smoothly

---

### Phase 4: Content Styling (Priority: P2)

Enhance code blocks, admonitions, and general content typography.

**Files to create**:
- `website/src/css/components/code-block.css`
- `website/src/css/components/admonitions.css`

**Tasks**:
1. Style code blocks with rounded corners and proper padding
2. Customize admonition colors and icons
3. Improve table styling
4. Enhance link hover states
5. Style blockquotes

**Acceptance Criteria**:
- Code blocks have syntax highlighting and copy button
- Admonitions match brand color scheme
- Tables are readable and responsive
- All content elements have consistent spacing

---

### Phase 5: Footer Redesign (Priority: P2)

Update footer with improved organization and styling.

**Files to create**:
- `website/src/css/components/footer.css`

**Files to modify**:
- `website/docusaurus.config.ts` (footer links)

**Tasks**:
1. Update footer link organization
2. Style footer with dark background
3. Add hover effects to links
4. Ensure responsive column layout

**Acceptance Criteria**:
- Footer displays all module links
- Community and resource links are organized
- Footer is readable on all screen sizes

---

### Phase 6: Accessibility & Polish (Priority: P2-P3)

Ensure WCAG compliance and optimize performance.

**Tasks**:
1. Run Lighthouse accessibility audit
2. Fix any contrast ratio issues
3. Add skip-to-content link
4. Verify heading hierarchy on all pages
5. Test keyboard navigation thoroughly
6. Add alt text to any missing images
7. Run performance audit
8. Optimize any slow-loading resources

**Acceptance Criteria**:
- Lighthouse accessibility score 90+
- Lighthouse performance score 80+
- All interactive elements keyboard accessible
- No WCAG AA violations

---

## Complexity Tracking

No constitution violations requiring justification. Implementation follows the simplest viable approach (CSS overrides) without adding unnecessary complexity.

---

## Dependencies

| Dependency | Type | Impact |
|------------|------|--------|
| Docusaurus 3.x | Existing | Must use Infima variable names |
| React 18.x | Existing | Component structure preserved |
| Prism themes | Existing | Syntax highlighting themes available |

---

## Risk Assessment

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| CSS specificity conflicts | Medium | Low | Use Infima variable overrides, avoid `!important` |
| Dark mode inconsistencies | Medium | Medium | Test both modes thoroughly, use CSS variables |
| Mobile layout issues | Low | Medium | Test on real devices, use browser DevTools |
| Accessibility regressions | Low | High | Run Lighthouse before merging, manual keyboard testing |

---

## Success Metrics

| Metric | Target | Measurement |
|--------|--------|-------------|
| Lighthouse Performance | 80+ | Automated audit |
| Lighthouse Accessibility | 90+ | Automated audit |
| Color Contrast | WCAG AA | Contrast checker tools |
| Mobile Usability | 100 | Google Mobile-Friendly Test |
| Build Success | Pass | `npm run build` completes |

---

## Next Steps

1. Run `/sp.tasks` to generate detailed implementation tasks
2. Create feature branch from current state
3. Implement Phase 1 (Theme Foundation)
4. Test and iterate through remaining phases
5. Run final Lighthouse audits
6. Create pull request with screenshots
